<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
	<head>
		<title>iciql</title>
		<link rel="stylesheet" type="text/css" href="./iciql.css"/>
		<link rel="stylesheet" type="text/css" href="./markdown.css"/>
		<link rel="shortcut icon" type="image/png" href="./iciql-favicon.png" />
		<meta name="ROBOTS" content="INDEX">
		<meta http-equiv="imagetoolbar" content="no" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="keywords" content="java sql query jaqu" />
				
		<script type="text/javascript" src="prettify.js"></script>
		<link href="prettify.css" type="text/css" rel="stylesheet" />
						
		<!-- Place this tag in your head or just before your close body tag -->
		<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
				
		<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24377072-3']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

	</head>
	<body style="width:900px" onload="prettyPrint()">
		<a href="http://github.com/iciql><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://d3nwyuy0nl342s.cloudfront.net/img/30f550e0d38ceb6ef5b81500c64d970b7fb0f028/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub"></a>
		<div class="page_header">
			<a title="iciql homepage" href="http://iciql.com/">
				<img src="./iciql.png" width="76" height="48" alt="iciql" class="logo"/>
			</a>
			<span style="color:black;">iciql</span>
			<!-- Google Plus One -->
			<g:plusone></g:plusone>
		</div>
		<div class="page_nav"><a href='index.html'>overview</a> | <a href='model_classes.html'>model classes</a> | <a href='table_versioning.html'>versioning</a> | <a href='usage.html'>usage</a> | <a href='performance.html'>performance</a> | <a href='examples.html'>examples</a> | <a href='tools.html'>tools</a> | <a href='building.html'>building</a> | <a href='javadoc.html'>javadoc</a> | <a href='releases.html'>releases</a> | <a href='jaqu_comparison.html'>jaqu comparison</a></div>
		<div class="markdown">
<h2> Performance</h2>

<p>The information provided here may be based on flawed test procedures.  You have to be the judge of what is performant and non-performant.</p>

<h3> iciql statement generation</h3>

<p>Performance of iciql statement generation is not currently benchmarked.</p>

<h3> iciql+database performance comparison</h3>

<p>The following data was generated by running the <em>single-threaded</em> iciql test suite.  All database connections are pooled and re-used within each execution of the test suite using <a href="http://commons.apache.org/dbcp">Apache Commons DBCP</a>.</p>

<p>Connections are pooled to normalize embedded database performance with out-of-process database performance.  Some of the Java embedded database configurations have a very high startup-time penalty.  Notably, H2 is slow to open a database and its performance is substantially affected if connection pooling is not enabled to keep the embedded database open.</p>

<p>All tables are created as CACHED when the database distinguishes between CACHED and MEMORY tables.</p>

<p>All performance numbers include the combined overhead of iciql statement generation and JUnit 4 test framework execution so they are not bare-metal database metrics.  </p>

<pre>
Jan 24, 2012 8:16:26 AM org.hsqldb.persist.Logger logSevereEvent<br/>SEVERE: could not reopen database<br/>org.hsqldb.HsqlException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@b16a6d4c[file =C:\projects\git\iciql\testdbs\hsqltcp\iciql.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2012-01-24 13:16:25 heartbeat - read: -1150 ms.<br/>	at org.hsqldb.error.Error.error(Unknown Source)<br/>	at org.hsqldb.error.Error.error(Unknown Source)<br/>	at org.hsqldb.persist.LockFile.newLockFileLock(Unknown Source)<br/>	at org.hsqldb.persist.Logger.acquireLock(Unknown Source)<br/>	at org.hsqldb.persist.Logger.openPersistence(Unknown Source)<br/>	at org.hsqldb.Database.reopen(Unknown Source)<br/>	at org.hsqldb.Database.open(Unknown Source)<br/>	at org.hsqldb.DatabaseManager.getDatabase(Unknown Source)<br/>	at org.hsqldb.DatabaseManager.getDatabase(Unknown Source)<br/>	at org.hsqldb.server.Server.openDatabases(Unknown Source)<br/>	at org.hsqldb.server.Server.run(Unknown Source)<br/>	at org.hsqldb.server.Server.access$000(Unknown Source)<br/>	at org.hsqldb.server.Server$ServerThread.run(Unknown Source)<br/>*******************************************************************************<br/>iciql 0.7.9 (2012-01-24) testing 10 database configurations<br/>*******************************************************************************<br/><br/> java.vendor              Sun Microsystems Inc.<br/> java.runtime.version     1.6.0_26-b03<br/> java.vm.name             Java HotSpot(TM) 64-Bit Server VM<br/> os.name                  Windows 7<br/> os.version               6.1<br/> os.arch                  amd64<br/> available processors     8<br/> available memory         1811.6 GB<br/><br/>-------------------------------------------------------------------------------<br/>Testing H2 1.3.162 (2011-11-26)<br/>        jdbc:h2:mem:iciql<br/>-------------------------------------------------------------------------------<br/>55 tests (0 failures, 2 ignores)  4,200 statements in 0.900 secs<br/><br/>  100% successful test suite run.<br/><br/>-------------------------------------------------------------------------------<br/>Testing H2 OFFLINE<br/>        jdbc:h2:file:testdbs/h2/iciql<br/>-------------------------------------------------------------------------------<br/>Skipping.  Could not find jdbc:h2:file:testdbs/h2/iciql<br/><br/>-------------------------------------------------------------------------------<br/>Testing H2 1.3.162 (2011-11-26)<br/>        jdbc:h2:tcp://localhost/C:\projects\git\iciql/testdbs/h2tcp/iciql<br/>-------------------------------------------------------------------------------<br/>55 tests (0 failures, 2 ignores)  4,200 statements in 1.163 secs<br/><br/>  100% successful test suite run.<br/><br/>-------------------------------------------------------------------------------<br/>Testing HSQL 2.2.6<br/>        jdbc:hsqldb:mem:iciql<br/>-------------------------------------------------------------------------------<br/>55 tests (0 failures, 2 ignores)  4,148 statements in 1.087 secs<br/><br/>  100% successful test suite run.<br/><br/>-------------------------------------------------------------------------------<br/>Jan 24, 2012 8:16:42 AM org.hsqldb.persist.Logger logSevereEvent<br/>SEVERE: could not reopen database<br/>org.hsqldb.HsqlException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@1c0c0f3d[file =C:\projects\git\iciql\testdbs\hsql\iciql.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2012-01-24 13:16:41 heartbeat - read: -1476 ms.<br/>	at org.hsqldb.error.Error.error(Unknown Source)<br/>	at org.hsqldb.error.Error.error(Unknown Source)<br/>	at org.hsqldb.persist.LockFile.newLockFileLock(Unknown Source)<br/>	at org.hsqldb.persist.Logger.acquireLock(Unknown Source)<br/>	at org.hsqldb.persist.Logger.openPersistence(Unknown Source)<br/>	at org.hsqldb.Database.reopen(Unknown Source)<br/>	at org.hsqldb.Database.open(Unknown Source)<br/>	at org.hsqldb.DatabaseManager.getDatabase(Unknown Source)<br/>	at org.hsqldb.DatabaseManager.newSession(Unknown Source)<br/>	at org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source)<br/>	at org.hsqldb.jdbc.JDBCDriver.getConnection(Unknown Source)<br/>	at org.hsqldb.jdbc.JDBCDriver.connect(Unknown Source)<br/>	at java.sql.DriverManager.getConnection(DriverManager.java:582)<br/>	at java.sql.DriverManager.getConnection(DriverManager.java:154)<br/>	at com.iciql.util.JdbcUtils.getConnection(JdbcUtils.java:217)<br/>	at com.iciql.util.JdbcUtils.getConnection(JdbcUtils.java:161)<br/>	at com.iciql.Db.open(Db.java:153)<br/>	at com.iciql.test.IciqlSuite$TestDb.getVersion(IciqlSuite.java:553)<br/>	at com.iciql.test.IciqlSuite$TestDb.describeDatabase(IciqlSuite.java:546)<br/>	at com.iciql.test.IciqlSuite.main(IciqlSuite.java:334)<br/>	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br/>	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)<br/>	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)<br/>	at java.lang.reflect.Method.invoke(Method.java:597)<br/>	at org.apache.tools.ant.taskdefs.ExecuteJava.run(ExecuteJava.java:217)<br/>	at org.apache.tools.ant.taskdefs.ExecuteJava.execute(ExecuteJava.java:152)<br/>	at org.apache.tools.ant.taskdefs.Java.run(Java.java:771)<br/>	at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:221)<br/>	at org.apache.tools.ant.taskdefs.Java.executeJava(Java.java:135)<br/>	at org.apache.tools.ant.taskdefs.Java.execute(Java.java:108)<br/>	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)<br/>	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)<br/>	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)<br/>	at java.lang.reflect.Method.invoke(Method.java:597)<br/>	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)<br/>	at org.apache.tools.ant.Task.perform(Task.java:348)<br/>	at org.apache.tools.ant.Target.execute(Target.java:390)<br/>	at org.apache.tools.ant.Target.performTasks(Target.java:411)<br/>	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)<br/>	at org.apache.tools.ant.Project.executeTarget(Project.java:1368)<br/>	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)<br/>	at org.eclipse.ant.internal.launching.remote.EclipseDefaultExecutor.executeTargets(EclipseDefaultExecutor.java:32)<br/>	at org.apache.tools.ant.Project.executeTargets(Project.java:1251)<br/>	at org.eclipse.ant.internal.launching.remote.InternalAntRunner.run(InternalAntRunner.java:424)<br/>	at org.eclipse.ant.internal.launching.remote.InternalAntRunner.main(InternalAntRunner.java:138)<br/>Testing HSQL OFFLINE<br/>        jdbc:hsqldb:file:testdbs/hsql/iciql<br/>-------------------------------------------------------------------------------<br/>Skipping.  Could not find jdbc:hsqldb:file:testdbs/hsql/iciql<br/><br/>-------------------------------------------------------------------------------<br/>Testing HSQL OFFLINE<br/>        jdbc:hsqldb:hsql://localhost/iciql<br/>-------------------------------------------------------------------------------<br/>Skipping.  Could not find jdbc:hsqldb:hsql://localhost/iciql<br/><br/>-------------------------------------------------------------------------------<br/>Testing Derby 10.8.1.2 - (1095077)<br/>        jdbc:derby:memory:iciql;create=true<br/>-------------------------------------------------------------------------------<br/>55 tests (0 failures, 2 ignores)  4,152 statements in 6.987 secs<br/><br/>  100% successful test suite run.<br/><br/>-------------------------------------------------------------------------------<br/>Testing Derby OFFLINE<br/>        jdbc:derby:directory:testdbs/derby/iciql;create=true<br/>-------------------------------------------------------------------------------<br/>Skipping.  Could not find jdbc:derby:directory:testdbs/derby/iciql;create=true<br/><br/>-------------------------------------------------------------------------------<br/>Testing MySQL 5.0.51b-community<br/>        jdbc:mysql://localhost:7000/iciql<br/>-------------------------------------------------------------------------------<br/>55 tests (0 failures, 2 ignores)  4,148 statements in 4.585 secs<br/><br/>  100% successful test suite run.<br/><br/>-------------------------------------------------------------------------------<br/>Testing PostgreSQL 9.0.4<br/>        jdbc:postgresql://localhost:5432/iciql<br/>-------------------------------------------------------------------------------<br/>55 tests (2 failures, 2 ignores)  4,136 statements in 11.243 secs<br/><br/>  + testBooleanColumn(com.iciql.test.BooleanModelTest)<br/>    ERROR: column &quot;mybool&quot; is of type boolean but expression is of type integer<br/>  Hint: You will need to rewrite or cast the expression.<br/>  Position: 33<br/><br/>  + testIntColumn(com.iciql.test.BooleanModelTest)<br/>    ERROR: column &quot;mybool&quot; is of type integer but expression is of type boolean<br/>  Hint: You will need to rewrite or cast the expression.<br/>  Position: 33<br/><br/><br/>*******************************************************************************<br/>iciql 0.7.9 (2012-01-24) test suite performance results<br/>*******************************************************************************<br/>Name        Type  Version                 Stats/Sec  Runtime<br/>-------------------------------------------------------------------------------<br/>H2          E M   1.3.162 (2011-11-26)        4666      0.9s  (1.0x)<br/>HSQL        E M   2.2.6                       3816      1.1s  (1.2x)<br/>H2          T F   1.3.162 (2011-11-26)        3611      1.2s  (1.3x)<br/>MySQL       T F   5.0.51b-community            904      4.6s  (5.1x)<br/>Derby       E M   10.8.1.2 - (1095077)         594      7.0s  (7.8x)<br/>PostgreSQL  T F   9.0.4                        367     11.2s  (12.5x)<br/>Derby       E F   OFFLINE                        0      0.0s  (0.0x)<br/>HSQL        T F   OFFLINE                        0      0.0s  (0.0x)<br/>HSQL        E F   OFFLINE                        0      0.0s  (0.0x)<br/>H2          E F   OFFLINE                        0      0.0s  (0.0x)<br/>-------------------------------------------------------------------------------<br/>  E = embedded connection<br/>  T = tcp/ip connection<br/>  M = memory database<br/>  F = file/persistent database<br/>
</pre>	</div>
	<div style="margin-top:10px" class="page_footer">
		<div style="float:right;">generated 2012-01-24</div>
	The content of this page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0">Creative Commons Attribution 3.0 License</a>.
	</div>
</body>
</html>
